jQuery(document).ready((function(t){var e;let a,i=function(e,a,i){let n=t("#wpo-wcpdf-settings").find(i).filter((function(){let t=e.parent("div");return t.length&&"false"===t.attr("aria-hidden")}));return n.length?n:a.find(i)};t("#wpo-wcpdf-settings, .wpo-wcpdf-setup").on("click",".wpo_upload_image_button",(function(n){n.preventDefault(),a=t(this).parent(),e||(e=wp.media.frames.file_frame=wp.media({title:t(this).data("uploader_title"),button:{text:t(this).data("uploader_button_text")},multiple:!1})).on("select",(function(){let n=i(t(this),a,"input.media-upload-id"),o=i(t(this),a,"img.media-upload-preview"),d=e.state().get("selection").first().toJSON();n.val(d.id),o.length&&o.attr("src",d.url),i(t(this),a,".attachment-resolution, .attachment-resolution-warning").remove(),a.parent().block({message:null,overlayCSS:{background:"#fff",opacity:.6}});let r={security:n.data("ajax_nonce"),action:"wpo_wcpdf_get_media_upload_setting_html",args:n.data("settings_callback_args"),attachment_id:d.id};xhr=t.ajax({type:"POST",url:wpo_wcpdf_admin.ajaxurl,data:r,success:function(e){e&&void 0!==e.success&&!0===e.success&&a.html(e.data),a.removeAttr("style"),a.parent().unblock(),n=i(t(this),a,"input.media-upload-id"),t(document.body).trigger("wpo-wcpdf-media-upload-setting-updated",[n])},error:function(t,e,i){a.parent().unblock()}})})),e.open()})),t("#wpo-wcpdf-settings, .wpo-wcpdf-setup").on("click",".wpo_remove_image_button",(function(e){let a=t(this).parent(),n=a.find("input.media-upload-id"),o=a.find("img.media-upload-preview");n.val(""),o.remove(),t(this).remove(),i(t(this),a,".attachment-resolution, .attachment-resolution-warning").remove()}))}));
